---
title: "DescriptiveStats"
output: html_document
date: "2024-12-11"
---

```{r}
#Load necessary libraries
library(readxl)
library(dplyr)
library(knitr)
library(kableExtra)

data <- read_excel("data/district_data.xlsx")

summary_stats <- data %>%
  group_by(state_id) %>%
  summarise(
    "Districts" = n_distinct(district_id),
    "% in-person" = round(mean(share_inperson, na.rm = TRUE) * 100, 1),
    "% hybrid" = round(mean(share_hybrid, na.rm = TRUE) * 100, 1),
    "% virtual" = round(mean(share_virtual, na.rm = TRUE) * 100, 1),
    "% Black or Hispanic" = round(mean(share_black + share_hisp, na.rm = TRUE) * 100, 1),
    "% FRPL" = round(mean(share_lunch, na.rm = TRUE) * 100, 1),
    "% ELL" = round(mean(share_ELL, na.rm = TRUE) * 100, 1),
  ) %>%
rename(State = state_id) %>%

mutate(State = case_when(
    State == 1 ~ "CO",
    State == 2 ~ "CT",
    State == 3 ~ "MA",
    State == 4 ~ "MN",
    State == 5 ~ "MS",
    State == 6 ~ "OH",
    State == 7 ~ "RI",
    State == 8 ~ "VA",
    State == 9 ~ "WI",
    State == 10 ~ "WV",
    State == 11 ~ "WY",
  )) %>%
  
select(State, everything()) %>%
  arrange(State)


# View the summary statistics
print(summary_stats)

```